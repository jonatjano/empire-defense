<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport"
	      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="/assets/style.css">
	<title data-translation="generic.title">Title</title>
	<script type="module">
		import "/src/utils/Options.js"
		import {mainMenu} from "/src/view/Menu.js"
		screen.orientation.lock('landscape').catch(() => {})
		mainMenu()
	</script>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div id="mainMenu" class="hidden">
		<h1 data-translation="generic.title">Title</h1>
		<button id="mainMenuPlayButton" data-translation="generic.play">Play</button>
	</div>
	<div id="lobby" class="hidden">
		<h2 data-translation="menu.lobby">lobby</h2>
		<canvas id="mapPreview" height="900" width="1600"></canvas>
		<h2 id="mapName"></h2>
		<button id="lobbyPrevMapButton">&lt;</button>
		<button id="lobbyNextMapButton">&gt;</button>
		<button id="lobbyStartButton" data-translation="generic.play">Play</button>
	</div>
	<div id="game" class="hidden">
		<canvas id="gameCanvas" height="900" width="1600"></canvas>
		<div id="gui">
			<div id="money"><img data-texture="icons/money" src="" alt="Money"><span id="moneyLabel">0</span></div>
			<div id="life"><img data-texture="icons/life" src="" alt="Life"><span id="lifeLabel">0</span></div>
			<div id="crystal"><img data-texture="icons/crystal" src="" alt="Crystal"><span id="crystalLabel">0</span></div>
			<div id="wave"><img data-texture="icons/wave" src="" alt="Wave"><span id="waveLabel">0</span></div>
			<div id="menu">
				<button id="option"><img data-texture="icons/option" src="" alt="Option"></button>
				<button id="speed"><img data-texture="icons/speed1" src="" alt="Speed x1"></button>
				<button id="zoomOut"><img data-texture="icons/zoomOut" src="" alt="Zoom out"></button>
				<button id="zoomIn"><img data-texture="icons/zoomIn" src="" alt="Zoom in"></button>
			</div>
			<div id="towers">
			</div>
		</div>
		<div id="pauseMenu" >
			<button id="resumeButton" data-translation="generic.resume">Resume</button>
			<button id="quitButton" data-translation="generic.quit">Quit</button>
			<p>WIP: more to come (options)</p>
		</div>
		<div id="towerMenu" class="hidden">
			<button id="upgradeTower"><img data-framed="true" data-texture="entities/buildings/archery2" src="" alt="Upgrade"></button>
			<button id="sellTower"><img data-framed="true" data-texture="icons/money" src="" alt="Sell"></button>
		</div>
<!--		<div id="optionMenu" style="position: absolute; top: 300px; left: 300px;">-->
<!--			<p>WIP: </p>-->
<!--			<p>	volume</p>-->
<!--			<p>	resource packs</p>-->
<!--		</div>-->
	</div>
	<div id="debugOverlay" class="hidden">
		<p>time: <span id="debugTime"></span> (frames: <span id="frameCount"></span>)</p>
		<p>fps: <span id="debugFps"></span> (avg: <span id="debugFpsAvg"></span>)</p>
		<p>entities: <span id="entityCount"></span></p>
	</div>
	<div id="textures" class="hidden">
		<h1>Textures</h1>
	</div>

	<!-- this canvas is used by background scripts, it should never be shown -->
	<canvas id="utilsCanvas" class="hidden"></canvas>

	<!-- for debug purpose, should be removed before release -->
	<button style="position: absolute; top: 0; left: 0" onclick="window.location.reload()">reload</button>
	<input id="texturePackInput" style="position: absolute; top: 0; left: 200px" type="file" webkitdirectory onchange="options.uploadTexturePack()"/>
	<select id="texturePackSelect"  style="position: absolute; top: 0; left: 100px; width: 100px"></select>
</body>
</html>
